<div class="container">
    <div class="row">
        <div class="col-md-12">
            <form [formGroup]="productForm" class="d-flex justify-content-between sales" (ngSubmit)="onSubmit()">
                <div class="row">
                    <div class="col-md-6">
                        <app-input-text formControlName="weight" placeholder="weight" type="text" inputName="weight"></app-input-text>
                    </div>
                    <div class="col-md-6">
                        <app-dropdowns label="purity" formControlName="purity" [options]="purities"
                            optionLabel="name" optionValue="id"
                            placeholder="Select a purity"></app-dropdowns>
                    </div>
                    <div class="col-md-6">
                        <app-input-text formControlName="price" placeholder="price" type="number" inputName="price"></app-input-text>
                    </div>
                    <div class="col-md-6">
                        <app-input-text formControlName="description" placeholder="description" type="text" inputName="description"></app-input-text>
                    </div>
                    <div class="col-md-6">
                        <app-input-text formControlName="tax" placeholder="tax" type="number" inputName="tax"></app-input-text>
                    </div>
                    <div class="col-md-6">
                        <app-input-text formControlName="amount" placeholder="amount" type="number" inputName="amount"></app-input-text>
                    </div>
                    <div class="col-md-6">
                            <label class="form-label"> Attachment <sup class="text-danger">*</sup> </label>
                            <app-upload-input formControlName="attachment" label="Upload Image"></app-upload-input>
                    </div>
                    <div class="col-md-6">
                        <app-input-text formControlName="add_gram" placeholder="add_gram" type="number" inputName="add_gram"></app-input-text>
                    </div>
                    <div class="btns-group">
                <button [disabled]="selectedCurrency && isShiftActive" type="submit" class="my-4 submit-btn">
                    Add</button>
            </div>
                </div>
            </form>
            @if(selectedCurrency && isShiftActive){
            <div class="table">
                <div class="mt-5">
                    <div class="container">
                        <app-input-table [data]="purchaseTableData">
                            <ng-template #headerTemplate>
                                <th>Weight</th>
                                <th>tax</th>
                                <th>Purity</th>
                                <th>Description</th>
                                <td>Price</td>

                            </ng-template>

                            <ng-template #bodyTemplate let-group let-i="index">
                                <td>{{ group.weight }}</td>
                                <td>{{ group.tax }}</td>
                                <!-- <td>{{ group.size }}</td> -->
                                <td>{{ group.purity_name }}</td>
                                <td>{{ group.description }}</td>
                                <td>{{group.amount}}</td>

                            </ng-template>
                        </app-input-table>
                        <div class="d-flex justify-content-end w-100">
                            <div style="width: 15%;" class=" bg-secondary-subtle p-2 fw-bold rounded-2">
                                Total: {{ totalAmount() }} </div>
                        </div>
                    </div>
                </div>
            </div>
            }@else {

            <div class="container h-100  d-flex justify-content-center align-items-center">
                <h6 class="text-danger">You Need To select customer & Currency first</h6>
            </div> }
        </div>
    </div>
</div>